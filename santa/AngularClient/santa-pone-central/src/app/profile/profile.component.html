
<div id="overlay" *ngIf="showOverlay == true" (click)="hideWindow()">
</div>

<!-- Chat Window -->
<div class="container chatContainer mat-elevation-z3 clientCard scrollbar scrollbar-primary" *ngIf="showChat == true">
    <app-contact-panel
        (messageUpdatedEvent)="softRefreshSelectedChat($event)"
        [selectedHistory]="selectedHistory"
        [sendingClientMeta]="selectedHistory.conversationClient"
        [showActionProgressBar]="puttingMessage || postingMessage || (gettingSelectedHistory && puttingMessage)"
        [showLoading]="gettingAllHistories || gettingGeneralHistory || gettingSelectedHistory"></app-contact-panel>
    <app-input-control
        (sendClicked)="send($event)"
        (readAllAction)="readAll()"
        [relationshipID]="selectedHistory.relationXrefID"
        [sender]="selectedHistory.conversationClient"
        [reciever]="adminRecieverMeta"
        [disabled]="postingMessage">
    </app-input-control>
</div>

<div class = "component-container">
    <div class="components mat-elevation-z3">
        <app-information
            [profile]="profile"
            [events]="events"
            [loading] = "gettingProfile"
        ></app-information>
        <app-control-panel
            [gettingAllHistories]="gettingAllHistories"
            [gettingGeneralHistory]="gettingGeneralHistory"
            [gettingSelectedHistory]="gettingSelectedHistory"
            [gettingProfile]="gettingProfile"
            (chatClickedEvent)="showSelectedChat($event)"
            [loading] = "gettingAllHistories || gettingGeneralHistory || gettingSelectedHistory"
            [generalHistory]="generalHistory"
            [profile]="profile"
            [histories]="histories">
        </app-control-panel> 
    </div>
</div>