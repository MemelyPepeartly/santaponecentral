<mat-card class="api-card mat-elevation-z5">
    <mat-card-header>
        <mat-card-title>Tag Control</mat-card-title>
        <mat-card-subtitle>Add or remove tags from the api</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
        <app-small-loading-spin *ngIf="postingNewTag"></app-small-loading-spin>

        <!--All Tag Chip list-->
        <mat-toolbar>All currently available tags</mat-toolbar>
        <div id="tagChipList">
            <mat-chip-list>
                <mat-chip *ngFor="let tag of allTags">{{tag.tagName}}</mat-chip>
            </mat-chip-list>
        </div>
        <mat-divider [inset]="true"></mat-divider>

        <form [formGroup]="tagFormGroup" *ngIf="!postingNewTag">
            <mat-form-field id="tagField">
                <mat-label>New Tag</mat-label>
                <input matInput #tagInput
                    formControlName="newTag"
                    placeholder="Ex. Happy Camper"
                    maxlength="50" minlength="2" pattern="[A-Za-z0-9 ]{2,50}">
            </mat-form-field>
        </form>
        
        <!--Tag Control buttons-->
        <div id="tagButtonContainer">
            <button class="tagButton" 
            mat-raised-button
            matTooltip="Add tag to the list of tags"
            (click)="addNewTag()"
            [disabled]="!tagFormGroup.valid || !tagFormGroup.touched || newTag?.length == 0 || newTag == undefined || newTag == '' "
            [matTooltipPosition]="'left'">Add Tag</button>
        <button class="tagButton" 
            mat-raised-button
            matTooltip="Cancel Tag Action"
            [matTooltipPosition]="'right'">Cancel</button>
        </div>
    </mat-card-content>
</mat-card>