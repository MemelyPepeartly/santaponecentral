<div id="overlay" *ngIf="showClientCard == true" (click)="hideClientWindow();">
</div>

<div class="container mat-elevation-z3 clientCard" *ngIf="showClientCard == true">
  <div class="fixedDiv mat-elevation-z6">
      <app-selected-anon
      [client]="selectedAnon"
      (refreshSelectedClient)="updateSelectedClient($event)"></app-selected-anon>
  </div>
</div>

<div id="info-div">
  <mat-card class="list-card mat-elevation-z5">
    <mat-card-header>
      <mat-card-title>Correspondence</mat-card-title>
      <mat-card-subtitle>For contacting anons</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>

      <!-- Unread -->
      <mat-card class="infoCard">
        <mat-card-header>
          <mat-card-title>Unread</mat-card-title>
          <mat-card-subtitle>Unread messages and requests from anons</mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
          <app-chat-histories [histories]="unreadChats" (recipientSelectedEvent)="populateSelectAnonCard($event.meta)"></app-chat-histories>
        </mat-card-content>
      </mat-card>

      <!-- Event Histories -->
      <mat-card class="infoCard" *ngFor="let event of events">
        <mat-card-header>
          <mat-card-title>{{ event.eventDescription }} Chats</mat-card-title>
          <mat-card-subtitle>List of all anon conversations for the {{ event.eventDescription }}</mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
          <app-chat-histories [histories]="sortByEvent(event)" (recipientSelectedEvent)="populateSelectAnonCard($event.meta)"></app-chat-histories>
        </mat-card-content>
      </mat-card>

      <!-- All -->
      <mat-card class="infoCard">
        <mat-card-header>
          <mat-card-title>All</mat-card-title>
          <mat-card-subtitle>List of all contact history for contacted anons</mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
          <app-chat-histories [histories]="allChats" (recipientSelectedEvent)="populateSelectAnonCard($event.meta)"></app-chat-histories>
        </mat-card-content>
      </mat-card>

    </mat-card-content>
  </mat-card>
</div>