networks:
  event_localhost:
services:
  api:
    build:
      context: ..
      dockerfile: .docker/Dockerfile
    image: santaponeapi
    depends_on:
      - db
    ports:
      - 11080:80
    networks:
      - event_localhost
    environment:
      ConnectionStrings__EventDb: 'Host=data;Database=eventDb;Username=mssql;Password=Pass@word'
  db:
    image: mcr.microsoft.com/mssql/server
    networks:
      - event_localhost
    environment:
      SA_PASSWORD: 'Pass@word'
      ACCEPT_EULA: "Y"
version: '3.9'